<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="templates/style.css">
    <style>
        /* --- Style Général --- */
body {
    font-family: 'Times New Roman', Times, serif; /* Police classique "document" */
    font-size: 12pt;
    line-height: 1.6; /* Espacement confortable */
    color: #333; /* Noir doux pour moins fatiguer les yeux */
    
    max-width: 210mm; /* Largeur d'une feuille A4 */
    margin: 40px auto; /* Centré avec de l'espace autour */
    padding: 20px;
    background-color: white;
}

/* --- Titres --- */
h1 {
    font-family: Arial, Helvetica, sans-serif; /* Sans-serif pour les titres */
    color: #000;
    border-bottom: 2px solid #333; /* Soulignement épais */
    padding-bottom: 10px;
    margin-top: 50px;
    page-break-before: always; /* Force une nouvelle page à l'impression */
}

/* On évite le saut de page pour le tout premier titre */
h1:first-child {
    page-break-before: auto;
}

h2 {
    font-family: Arial, Helvetica, sans-serif;
    color: #444;
    border-bottom: 1px solid #ccc; /* Soulignement fin */
    margin-top: 30px;
}

h3 {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 1.1em;
    color: #555;
    margin-top: 20px;
}

/* --- Table des Matières (TOC) --- */
/* --- Table des Matières (TOC) --- */
.toc {
    background-color: #f8f9fa;
    border: 1px solid #e9ecef;
    padding: 20px;
    margin-bottom: 40px;
    font-family: Arial, Helvetica, sans-serif;
}

/* Niveau 1 (Les gros titres) : Pas de marge à gauche */
.toc > ul {
    list-style-type: none;
    padding-left: 0;
    margin: 0;
}

/* Niveaux imbriqués (H2, H3...) : On ajoute l'indentation ici */
.toc ul ul {
    list-style-type: none; /* Toujours pas de puces */
    padding-left: 30px;    /* <-- C'est cette ligne qui crée le décalage */
    margin-top: 5px;
}

/* Style des liens */
.toc a {
    text-decoration: none;
    color: #0056b3;
    display: block; /* Prend toute la largeur, plus facile à lire */
    padding: 2px 0;
}

.toc a:hover {
    text-decoration: underline;
    color: #003d82;
}

/* --- Tableaux (Ex: pour le Changelog) --- */
table {
    width: 100%;
    border-collapse: collapse; /* Bordures collées */
    margin: 20px 0;
}

th, td {
    border: 1px solid #aaa;
    padding: 10px;
    text-align: left;
    vertical-align: top;
}

th {
    background-color: #eee; /* Entête grise */
    font-weight: bold;
}

/* --- Codes et Blocs --- */
code {
    background-color: #f4f4f4;
    padding: 2px 5px;
    font-family: "Courier New", Courier, monospace;
}

blockquote {
    border-left: 4px solid #ddd;
    margin-left: 0;
    padding-left: 15px;
    color: #666;
    font-style: italic;
}

/* --- Impression --- */
@media print {
    body {
        margin: 0;
        padding: 0;
        max-width: 100%;
    }
    
    .toc {
        border: none;
    }

    a {
        text-decoration: none;
        color: black; /* Les liens s'impriment en noir */
    }
}
    </style>
</head>
<body>
    <div class="page-container">
        
        <div style="text-align:center; margin-bottom: 60px; padding-top:40px;">
            <h1 style="border:none; font-size: 36pt;">Spécifications PEGS</h1>
            <p style="font-size: 14pt;">Document d'Exigences du Projet</p>
            <p>Généré le : <script>document.write(new Date().toLocaleDateString())</script></p>
        </div>

        <div class="toc">
            <h2 style="margin-top:0;">Table des Matières</h2>
            {{ toc }}
        </div>

        <div class="content">
            {{ content }}
        </div>
        
    </div>
</body>
</html>